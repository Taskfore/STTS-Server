# Caddyfile for Chatterbox TTS Server with automatic HTTPS
# This configuration provides HTTPS access via domain name with automatic Let's Encrypt certificates

# Domain-based configuration with automatic HTTPS
stts.careerlink.ai {
    # Reverse proxy to the TTS server container (handles both HTTP and WebSocket)
    reverse_proxy chatterbox-tts-server:8004
    
    # Enable request logging
    log {
        output stdout
        format console
        level DEBUG
    }
    
    # Add security headers
    header {
        # Prevent MIME type sniffing
        X-Content-Type-Options nosniff
        # Enable XSS protection
        X-XSS-Protection "1; mode=block"
        # Prevent clickjacking
        X-Frame-Options DENY
    }
}
